<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vote! NOW</title>

	<link href="css/custom.css" rel="stylesheet" type="text/css">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" type="text/javascript"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script src"https://cdn.socket.io/socket.io-1.3.4.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<script src="js/drawVote.js" type="text/javascript"></script>
	<script src="js/vote.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(document).ready(function(){
			$.getJSON( "candidateData.JSON", function( candidateArray ) {
				console.log( candidateArray );
				if(candidateArray.length > 0 )
				{
					var candidateTemplate = document.getElementById('candidate');
					for(var candidateElement in candidateArray)
					{
						var id = candidateArray[candidateElement].CandidateID;
						var name = candidateArray[candidateElement].CandidateName;
						var img = candidateArray[candidateElement].CandidatePic;
						var canvas = '<div style="position:absolute; top:195px; left:'+(480/(candidateArray.length+1)*id-40)+'px; z-index:'+id+'"><canvas id="'+id+'" class="draggable" from="neutralArea" width="100" height="100"></canvas></div>';
						$("#candidateArea").append(canvas);
						drawCandidate(id, img);
						$(".draggable").draggable({
							revert: "invalid"
						});
					}
				}
			});
		});
  </script>
	</script>
</head>
<body>
	<header>
		<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container"> 
				<div class="navbar-header">
					<a class="navbar-brand" href="index.html">Vote! NOW</a>
				</div>
				<h4 class="navbar-text">晚餐吃什麼？</h4> 
			</div>
		</nav>
	</header>
	<div class="container">
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-6">
				<h3>Vote</h3>
				<canvas id="goodArea" class="droppable" width="480" height="175" ></canvas>
				<canvas id="neutralArea" class="droppable" width="480" height="100"></canvas>
				<canvas id="badArea" class="droppable" width="480" height="175"></canvas>
				<div id="candidateArea">
					<!--<canvas id="candidate" class="draggable" from="neutralArea" width="100" height="100" style="position:absolute; top:240px; left:240px; z-index:1"></canvas>-->
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-5">
				<h3>Information</h3>
				<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
					<!-- Indicators -->
					<ol class="carousel-indicators">
						<li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
						<li data-target="#carousel-example-generic" data-slide-to="1"></li>
						<li data-target="#carousel-example-generic" data-slide-to="2"></li>
					</ol>

					<!-- Wrapper for slides -->
					<div class="carousel-inner" role="listbox">
						<div class="item active">
							<img src="http://i.imgur.com/HSZ7DV9.jpg?2" alt="0">
							<div class="carousel-caption">
								0000000000
							</div>
						</div>
						<div class="item">
							<img src="http://i.imgur.com/cA4V2L9.jpg?2" alt="1">
							<div class="carousel-caption">
								...
							</div>
						</div>
						<div class="item">
							<img src="http://i.imgur.com/91dpcL0.jpg?2" alt="2">
							<div class="carousel-caption">
								123321
							</div>
						</div>
					</div>

					<!-- Controls -->
					<a class="left carousel-control" href="#" role="button" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#" role="button" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12 col-sm-12 col-md-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">Result</h3>
					</div>
					<div class="panel-body">
						<canvas id="result" width="480" height="480"></canvas>
					</div>
				</div>
			</div>

			<div class="col-xs-12 col-sm-12 col-md-6">
				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title">History</h3>
					</div>
					<div class="panel-body">
						<canvas id="history" width="960" height="480"></canvas>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>